<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart4A Postly Ã— Make èª²ç¨‹å ±åè¡¨å–®</title>
  <style>
    :root {
      --color-primary-start: #d4c4b0;
      --color-primary-end: #c4a484;
      --color-text-primary: #5d4e37;
      --color-card-bg: #ffffff;
      --color-card-border: #ede8e3;
      --color-accent: #8b6f47;
      --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    body {
      font-family: var(--font-family-base);
      background: linear-gradient(135deg, #f5f3f0, #ede8e3);
      color: var(--color-text-primary);
      margin: 0;
    }
    .hero {
      text-align: center;
      padding: 60px 20px;
      background: linear-gradient(135deg, var(--color-primary-start), var(--color-primary-end));
      color: white;
    }
    .hero h1 { font-size: 2.5rem; margin: 0; }

    .container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 20px;
    }
    .card {
      background: var(--color-card-bg);
      border: 1px solid var(--color-card-border);
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      margin-bottom: 30px;
    }

    /* Tabs */
    .tabs {
      display: flex;
      border-bottom: 2px solid var(--color-card-border);
      margin-bottom: 20px;
    }
    .tab {
      flex: 1;
      padding: 15px;
      text-align: center;
      font-weight: bold;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: 0.3s;
    }
    .tab.active {
      border-bottom: 3px solid var(--color-accent);
      color: var(--color-accent);
    }
    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* èª²ç¨‹ä»‹ç´¹æ¨£å¼ */
    .intro-header {
      text-align: center;
      margin-bottom: 30px;
    }
    .intro-header h2 {
      font-size: 2rem;
      margin-bottom: 10px;
      color: var(--color-accent);
    }
    .intro-info {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin: 30px 0;
    }
    .info-item {
      background: #faf8f6;
      border: 1px solid var(--color-card-border);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
    }
    .info-item h3 {
      margin: 0;
      font-size: 1.1rem;
      color: var(--color-accent);
    }
    .highlights {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 20px;
    }
    .highlight-item {
      background: #fff;
      border: 1px solid var(--color-card-border);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      transition: 0.3s;
    }
    .highlight-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    }
    .highlight-item h3 {
      margin: 0 0 10px;
      font-size: 1.2rem;
      color: var(--color-accent);
    }

    /* è¡¨å–®å…©æ¬„å¸ƒå±€ */
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px 30px;
    }
    .form-group { display: flex; flex-direction: column; }
    .form-label { margin-bottom: 6px; font-weight: 600; }
    .form-input, select {
      padding: 12px;
      border: 1px solid var(--color-card-border);
      border-radius: 6px;
      font-size: 1rem;
    }
    .form-full { grid-column: span 2; }

    .btn-primary {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, var(--color-primary-start), var(--color-primary-end));
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .btn-primary:hover {
      background: linear-gradient(135deg, var(--color-accent), var(--color-primary-end));
    }
    .hidden { display: none; }

    @media (max-width: 768px) {
      .intro-info { grid-template-columns: 1fr 1fr; }
      .highlights { grid-template-columns: 1fr; }
      .form-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- Hero -->
  <div class="hero">
    <h1>Smart4A Postly Ã— Make è‡ªå‹•åŒ–æ‡‰ç”¨åŸ¹è¨“èª²ç¨‹</h1>
  </div>

  <div class="container card">
    <!-- Tabs -->
    <div class="tabs">
      <div class="tab" data-tab="intro">èª²ç¨‹ä»‹ç´¹</div>
      <div class="tab active" data-tab="signup">èª²ç¨‹å ±å</div>
    </div>

    <!-- èª²ç¨‹ä»‹ç´¹ -->
    <div id="intro" class="tab-content">
      <div class="intro-header">
        <h2>èª²ç¨‹ä»‹ç´¹</h2>
        <p>å…­å°æ™‚å¯¦é«”èª²ç¨‹+å…­å°æ™‚ç·šä¸Šèª²ç¨‹ï¼Œå®Œæ•´å¯¦ä½œï¼Œå¸¶ä½ å¾ Postly æ’ä»¶æ‡‰ç”¨åˆ° Make è‡ªå‹•åŒ–ï¼Œç«‹å³æ‰“é€ å¯è½åœ°çš„æ•¸ä½å…§å®¹ç®¡ç†æµç¨‹ã€‚</p>
      </div>

      <!-- èª²ç¨‹åŸºæœ¬è³‡è¨Š -->
      <div class="intro-info">
        <div class="info-item">
          <h3>â° æ™‚é–“</h3>
          <p>2025/10/21 (äºŒ) 09:30â€“16:30</p>
        </div>
        <div class="info-item">
          <h3>ğŸ“ åœ°é»</h3>
          <p>å°åŒ—å¸‚ä¸­æ­£å€å¿ å­æ±è·¯ä¸€æ®µ76è™Ÿ3æ¨“ </p>
        </div>
        <div class="info-item">
          <h3>ğŸ“š æ™‚æ•¸</h3>
          <p>6 + 6å°æ™‚</p>
        </div>
        <div class="info-item">
          <h3>ğŸ’° è²»ç”¨</h3>
          <p>NT$ 10,000</p>
        </div>
      </div>

      <!-- èª²ç¨‹äº®é» -->
      <div class="highlights">
        <div class="highlight-item">
          <h3>ğŸ”§ å·¥å…·çµåˆ</h3>
          <p>Postly Ã— Make ç„¡ç¸«æ•´åˆï¼Œå¿«é€Ÿæ‰“é€ è‡ªå‹•åŒ–æµç¨‹ã€‚</p>
        </div>
        <div class="highlight-item">
          <h3>ğŸ“ˆ å³å­¸å³ç”¨</h3>
          <p>å¸¶èµ°å¯ç«‹å³æ‡‰ç”¨æ–¼å…§å®¹ç®¡ç†èˆ‡è¡ŒéŠ·çš„è‡ªå‹•åŒ–ç¯„ä¾‹ã€‚</p>
        </div>
        <div class="highlight-item">
          <h3>ğŸ’¡ é›¶ç¨‹å¼åŸºç¤</h3>
          <p>ç„¡éœ€æŠ€è¡“èƒŒæ™¯ï¼Œä»»ä½•äººéƒ½èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
        </div>
      </div>
    </div>

    <!-- èª²ç¨‹å ±å -->
    <div id="signup" class="tab-content active">
      <h2>èª²ç¨‹å ±åè¡¨å–®</h2>
      <form id="signupForm" class="form-grid">
        <!-- æ—¥æœŸ -->
        <div class="form-group">
          <label for="date" class="form-label">æ—¥æœŸ *</label>
          <select id="date" name="date" required class="form-input">
            <option value="2025-10-21">2025/10/21 (äºŒ)</option>
          </select>
        </div>
        <!-- å§“å -->
        <div class="form-group">
          <label for="name" class="form-label">å§“å *</label>
          <input type="text" id="name" name="name" required class="form-input">
        </div>
        <!-- æ‰‹æ©Ÿ -->
        <div class="form-group">
          <label for="phone" class="form-label">æ‰‹æ©Ÿè™Ÿç¢¼ *</label>
          <input type="tel" id="phone" name="phone" required class="form-input" placeholder="09xx-xxx-xxx">
        </div>
        <!-- Email -->
        <div class="form-group">
          <label for="email" class="form-label">é›»å­éƒµä»¶ä¿¡ç®± *</label>
          <input type="email" id="email" name="email" required class="form-input">
        </div>
        <div class="form-group">
          <label for="confirmEmail" class="form-label">å†æ¬¡ç¢ºèªé›»å­éƒµä»¶ *</label>
          <input type="email" id="confirmEmail" name="confirmEmail" required class="form-input">
        </div>
        <!-- å„ªæƒ ç¢¼ -->
        <div class="form-group">
          <label for="promoCode" class="form-label">å„ªæƒ ç¢¼</label>
          <input type="text" id="promoCode" name="promoCode" class="form-input" placeholder="è¼¸å…¥å„ªæƒ ç¢¼ï¼ˆè‹¥æœ‰ï¼‰">
        </div>
        <!-- åŸåƒ¹ -->
        <div class="form-group">
          <label for="amount" class="form-label">èª²ç¨‹è²»ç”¨ (NT$) *</label>
          <input type="text" id="amount" name="amount" value="10000" readonly class="form-input">
        </div>
        <!-- æ‡‰ä»˜é‡‘é¡ -->
        <div class="form-group">
          <label for="finalAmount" class="form-label">æ‡‰ä»˜é‡‘é¡ (NT$)</label>
          <input type="text" id="finalAmount" name="finalAmount" value="10000" readonly class="form-input">
        </div>
        <!-- ä»˜æ¬¾æ–¹å¼ -->
        <div class="form-group">
          <label for="paymentMethod" class="form-label">ä»˜æ¬¾æ–¹å¼ *</label>
          <select id="paymentMethod" name="paymentMethod" required class="form-input">
            <option value="">è«‹é¸æ“‡</option>
            <option value="credit">ä¿¡ç”¨å¡</option>
            <option value="atm">ATM è½‰å¸³</option>
            <option value="ibon">ibon</option>
          </select>
        </div>
        <!-- ç™¼ç¥¨é¡å‹ -->
        <div class="form-group">
          <label for="invoiceType" class="form-label">ç™¼ç¥¨é¡å‹ *</label>
          <select id="invoiceType" name="invoiceType" required class="form-input">
            <option value="">è«‹é¸æ“‡</option>
            <option value="2">äºŒè¯å¼</option>
            <option value="3">ä¸‰è¯å¼</option>
          </select>
        </div>
        <!-- çµ±ç·¨ -->
        <div class="form-group hidden" id="invoiceTaxId">
          <label for="taxId" class="form-label">çµ±ä¸€ç·¨è™Ÿ</label>
          <input type="text" id="taxId" name="taxId" class="form-input">
        </div>
        <!-- æŠ¬é ­ -->
        <div class="form-group hidden" id="invoiceTitleGroup">
          <label for="invoiceTitle" class="form-label">ç™¼ç¥¨æŠ¬é ­</label>
          <input type="text" id="invoiceTitle" name="invoiceTitle" class="form-input">
        </div>

        <!-- æŒ‰éˆ• -->
        <div class="form-group form-full">
          <button type="submit" class="btn-primary">é€å‡ºå ±å</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Tabs åˆ‡æ›
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });

    // å„ªæƒ ç¢¼æ¸…å–®
    const promoCodes = {
      "Smart4A": 0,
      "VIP2025": 0,
      "STUDENT": 0
    };

    const baseAmount = 10000;

    // å„ªæƒ ç¢¼æª¢æŸ¥ â†’ è¨ˆç®—æœ€çµ‚é‡‘é¡
    document.getElementById('promoCode').addEventListener('input', function() {
      const code = this.value.trim();
      const discountValue = promoCodes[code] || 0;
      const finalAmount = baseAmount - discountValue;
      document.getElementById('finalAmount').value = finalAmount;
    });

    // ç™¼ç¥¨é¸æ“‡ â†’ é¡¯ç¤º/éš±è—çµ±ç·¨èˆ‡æŠ¬é ­ï¼ˆå…©æ¬„ï¼‰
    document.getElementById('invoiceType').addEventListener('change', function() {
      const show = this.value === '3';
      document.getElementById('invoiceTaxId').classList.toggle('hidden', !show);
      document.getElementById('invoiceTitleGroup').classList.toggle('hidden', !show);
    });

    // è¡¨å–®é€å‡º
    document.getElementById('signupForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const email = document.getElementById('email').value;
      const confirmEmail = document.getElementById('confirmEmail').value;
      if (email !== confirmEmail) {
        alert('é›»å­éƒµä»¶ä¸ä¸€è‡´ï¼Œè«‹é‡æ–°ç¢ºèª');
        return;
      }

      const code = document.getElementById('promoCode').value.trim();
      const discountValue = promoCodes[code] || 0;
      const finalAmount = baseAmount - discountValue;

      const formData = {
        date: document.getElementById('date').value,
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        email: email,
        promoCode: code,
        amount: baseAmount,
        discount: discountValue,
        finalAmount: finalAmount,
        paymentMethod: document.getElementById('paymentMethod').value,
        invoiceType: document.getElementById('invoiceType').value,
        taxId: document.getElementById('taxId').value || '',
        invoiceTitle: document.getElementById('invoiceTitle').value || ''
      };

      fetch("https://hook.us1.make.com/w64vu3ppp4br7l53w7myk4lt7b5kqgl3", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData)
      })
      .then(response => {
        if (response.ok) {
          window.location.href = "https://smart4a.tw/prod/cms/";
        } else {
          alert("é€å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
        }
      })
      .catch(error => {
        console.error("Webhook error:", error);
        alert("ç³»çµ±éŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
      });
    });
  </script>
</body>
</html>
